# yaml-language-server: $schema=https://schema.blue-build.org/module-list-v1.json
modules:
  - type: rpm-ostree
    repos:
      - https://negativo17.org/repos/fedora-multimedia.repo
      - https://copr.fedorainfracloud.org/coprs/hyperreal/better_fonts/repo/fedora-%OS_VERSION%/hyperreal-better_fonts-fedora-%OS_VERSION%.repo
      - https://copr.fedorainfracloud.org/coprs/decathorpe/miniaturo/repo/fedora-%OS_VERSION%/decathorpe-miniaturo-fedora-%OS_VERSION%.repo
      - vscode.repo
    install:
      - papirus-icon-theme
      - papirus-icon-theme-light
      - papirus-icon-theme-dark
      - ibm-plex-fonts-all
      - epapirus-icon-theme
      - yaru-icon-theme
      - yaru-sound-theme
      - telnet
      - nmap
      - netcat
      - efivar
      - efivar-libs
      - smartmontools
      - libratbag-ratbagd
      - heimdall
      - epson-inkjet-printer-escpr
      - epson-inkjet-printer-escpr2
      - file-roller
      - fontconfig-font-replacements
      - miniaturo
      - ffmpegthumbnailer
      - ffmpeg
      - ffmpeg-libs
      - libfdk-aac
      - heif-pixbuf-loader
      - just
      - fzf
      - openrgb-udev-rules
      - adw-gtk3-theme
      - gnome-epub-thumbnailer
      - gvfs-nfs
      - openssl
      - zstd
      - wireguard-tools
      - virt-install
      - libvirt-daemon-config-network
      - libvirt-daemon-kvm
      - qemu-kvm
      - virt-manager
      - virt-viewer
      - virt-top
      - guestfs-tools
      - code
      - firewalld
      - firewall-config
      - gnome-tweaks
    remove:
      - gnome-tour
      - fdk-aac-free
      - ffmpeg-free
      - libavcodec-free
      - libavdevice-free
      - libavfilter-free
      - libavformat-free
      - libavutil-free
      - libpostproc-free
      - libswresample-free
      - libswscale-free
      - firefox
      - firefox-langpacks

  - type: script
    snippets:
      # Replace Fedora packages with Negativos (Mesa & HEIF)
      - echo -e "\033[90mReplacing Fedora packages with Negativos\033[0m"
      - rpm-ostree override replace --experimental --from repo='fedora-multimedia' --remove=mesa-libglapi libheif libva libva-intel-media-driver mesa-dri-drivers mesa-filesystem mesa-libEGL mesa-libGL mesa-libgbm mesa-libxatracker mesa-va-drivers mesa-vulkan-drivers